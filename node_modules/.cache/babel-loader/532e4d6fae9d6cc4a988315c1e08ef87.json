{"ast":null,"code":"import _objectSpread from\"/Users/drdap/Documents/Learning/Full Stack Open 2021/Part 03/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/drdap/Documents/Learning/Full Stack Open 2021/Part 03/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Filter from'./Components/Filter';import AddPerson from'./Components/AddPerson';import Persons from'./Components/Persons';import personsServices from'./services/personsService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];useEffect(function(){personsServices.getAll().then(function(initialPersons){return setPersons(initialPersons);});},[]);var addPerson=function addPerson(event){event.preventDefault();var personObject={name:newName,number:newNumber};console.log(personObject);if(persons.some(function(person){return person.name.includes(newName);})===false){personsServices.create(personObject).then(function(newPersons){setPersons(persons.concat(newPersons));setNewName('');setNewNumber('');});}else if(persons.some(function(person){return person.name.includes(newName);})===true){if(window.confirm(\"Update \".concat(newName,\"'s number to \").concat(newNumber,\"?\"))){var person=persons.find(function(person){return person.name.includes(newName);});var changedPerson=_objectSpread(_objectSpread({},person),{},{number:newNumber});console.log(personsServices.update(person.id,changedPerson));personsServices.update(changedPerson.id,changedPerson).then(function(response){return setPersons(persons.map(function(pers){return pers.id!==person.id?pers:changedPerson;}));});};};};var deletePerson=function deletePerson(personID){var personToRemove=persons.find(function(person){return person.id===personID;});if(window.confirm(\"Delete \".concat(personToRemove.name))){personsServices.remove(personID);};};var addPersonChange=function addPersonChange(event){setNewName(event.target.value);};var addNumberChange=function addNumberChange(event){setNewNumber(event.target.value);};var searchChange=function searchChange(event){setSearch(event.target.value);console.log(\"Search: \",search);};//  persons.filter(persons.some((person) => person.name.includes(search)) === true);\nvar personsToShow=search!==null?persons.filter(function(person){return person.name.includes(search);}):persons;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(Filter,{searchChange:searchChange}),/*#__PURE__*/_jsx(AddPerson,{addPerson:addPerson,addPersonChange:addPersonChange,addNumberChange:addNumberChange,newName:newName,newNumber:newNumber}),/*#__PURE__*/_jsx(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(Persons,{persons:personsToShow,handleClick:deletePerson})})]});};export default App;","map":{"version":3,"sources":["/Users/drdap/Documents/Learning/Full Stack Open 2021/Part 03/phonebook/src/App.js"],"names":["React","useState","useEffect","Filter","AddPerson","Persons","personsServices","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","getAll","then","initialPersons","addPerson","event","preventDefault","personObject","name","number","console","log","some","person","includes","create","newPersons","concat","window","confirm","find","changedPerson","update","id","response","map","pers","deletePerson","personID","personToRemove","remove","addPersonChange","target","value","addNumberChange","searchChange","personsToShow","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter';\nimport AddPerson from './Components/AddPerson';\nimport Persons from './Components/Persons';\nimport personsServices from './services/personsService';\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ search, setSearch ] = useState('');\n\n  useEffect(() => {\n    personsServices.getAll()\n    .then(initialPersons => \n      setPersons(initialPersons))\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    console.log(personObject);\n    if (persons.some((person) => person.name.includes(newName)) === false) {\n      personsServices.create(personObject)\n      .then(newPersons => {\n        setPersons(persons.concat(newPersons))\n        setNewName('')\n        setNewNumber('')\n      })\n    }  else if (persons.some((person) => person.name.includes(newName)) === true) {\n      if (window.confirm(`Update ${newName}'s number to ${newNumber}?`)) {\n        const person = persons.find(person => person.name.includes(newName));\n        const changedPerson = {...person, number: newNumber}\n\n        console.log(personsServices.update(person.id, changedPerson))\n\n        personsServices\n      .update(changedPerson.id, changedPerson)\n      .then(response =>\n        setPersons(persons.map(pers => pers.id !== person.id ? pers : changedPerson)));\n      };\n    };\n    \n  };\n\n  const deletePerson = (personID) => {\n    const personToRemove = persons.find(person => person.id === personID);\n\n    if (window.confirm(`Delete ${personToRemove.name}`)) {\n      personsServices.remove(personID);\n    };\n    \n  };\n\n  const addPersonChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const addNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const searchChange = (event) => {\n    setSearch(event.target.value);\n    console.log(\"Search: \", search);\n  }\n\n//  persons.filter(persons.some((person) => person.name.includes(search)) === true);\n  const personsToShow = search !== null\n    ? persons.filter((person) => person.name.includes(search))\n    : persons;\n\n  return ( \n    <div>\n      <h2>Phonebook</h2>\n        <Filter searchChange={searchChange} />\n        <AddPerson addPerson={addPerson} addPersonChange={addPersonChange} addNumberChange={addNumberChange} newName={newName} newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <ul>\n        <Persons persons={personsToShow} handleClick={deletePerson} />\n      </ul>\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}